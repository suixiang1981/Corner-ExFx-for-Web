var __extends=this&&this.__extends||function(){var n=function(e,t){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i]};return n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();define(["require","exports","./eventDispatcher","./util","./dictionary","./fXEvent"],function(e,t,i,d,l,m){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(r){__extends(e,r);function e(e,t,i){if(e===void 0){e=null}if(t===void 0){t=MaterialDesignHue.LightBlue}if(i===void 0){i=false}var n=r.call(this)||this;n.textDictionary=new l.Dictionary;n.cssDict=new Object;n._width=0;n._height=0;n._left=0;n._top=0;n._visible=true;n._hue=MaterialDesignHue.LightBlue;n._isDrak=false;n._enabled=true;n._tabIndex=0;n._toolTip="";n._hue=t;n._isDrak=i;if(e==null){n._element=document.createElement("div")}else{n._element=e}n._element.style.position="absolute";n._element.style.userSelect="none";n._element.style.msUserSelect="none";n._element.style.webkitUserSelect="none";n.loadText(n.getTextPath());n.loadHtml(n._element,n.getHtmlPath());n.loadCSS(n.getCSSPath());return n}e.prototype.loadText=function(e){if(e!=null&&e!=""){var t=Loader.loadTXT(e);var i=t.split("\r\n");for(var n=0;n<i.length;n++){var r=i[n];var l=r.split(":");if(l.length==2){this.textDictionary.add(l[0],l[1])}}}};e.prototype.loadHtml=function(e,t){if(e===void 0){e=null}if(e==null){e=this._element}if(t!=null&&t!=""){e.innerHTML=Loader.loadTXT(t);this.loadChild(e)}};e.prototype.loadCSS=function(e){if(e!=""&&e!=null){if(!(e in this.cssDict)){Loader.loadCSS(e);this.cssDict[e]=null}}};e.prototype.loadChild=function(e,t){if(t===void 0){t=null}for(var i=0;i<e.childNodes.length;i++){var n=e.childNodes.item(i);if(n.nodeType==1){var r=null;var l=n;var o=l.innerHTML;var u=null;if(n.nodeName=="DIV"){var s=l;var h=s.className;if(h.length>3){if(h.indexOf("FX_")==0){h=h.substring(3);if(this.textDictionary.keys.length>0){for(var a=0;a<s.attributes.length;a++){var f=s.attributes.item(a);if(f.value.length>1){if(f.value.substr(0,1)=="@"){f.value=this.textDictionary.getValue(f.value.substr(1))}}}}u=this.createDisplayObject(h,s);if(u!=null){if(t!=null){t.addChild(u)}else{var p=new m.FXDisplayEvent;p.type=m.FXDisplayEvent.Added;p.target=u;u.dispatchEvent(p)}var c=null;c=d.Util.getElementNumberAttribute(s,"left",null);if(c!=null)u.left=c;c=d.Util.getElementNumberAttribute(s,"top",null);if(c!=null)u.top=c;c=d.Util.getElementNumberAttribute(s,"bottom",null);if(c!=null)u.bottom=c;c=d.Util.getElementNumberAttribute(s,"right",null);if(c!=null)u.right=c;c=d.Util.getElementNumberAttribute(s,"width",null);if(c!=null)u.width=c;c=d.Util.getElementNumberAttribute(s,"height",null);if(c!=null)u.height=c;c=d.Util.getElementBooleanAttribute(s,"enabled",null);if(c!=null)u.enabled=c;c=d.Util.getElementBooleanAttribute(s,"visible",null);if(c!=null)u.visible=c;c=d.Util.getElementStringAttribute(s,"toolTip",null);if(c!=null)u.toolTip=c}}}}var b=l.id;if(b!=""&&b!=null){if(u==null){this[b]=l}else{this[b]=u;if("panel"in u){r=u;r.panel.innerHTML=o;l=r.panel}}}this.loadChild(l,r)}}};e.prototype.createDisplayObject=function(e,t){return null};e.prototype.getHtmlPath=function(){return""};e.prototype.getCSSPath=function(){return""};e.prototype.getTextPath=function(){return""};Object.defineProperty(e.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:true,configurable:true});e.prototype.setNumberStyle=function(e,t,i,n){if(n===void 0){n="px"}if(isNaN(i)||i==null||i==undefined){e.style[t]="auto"}else{e.style[t]=i+n}};Object.defineProperty(e.prototype,"width",{get:function(){if(this._width==null){return this.element.offsetWidth}else{return this._width}},set:function(e){this.setWidth(e)},enumerable:true,configurable:true});e.prototype.setWidth=function(e){this._width=e;this.setNumberStyle(this.element,"width",e)};Object.defineProperty(e.prototype,"height",{get:function(){if(this._height==null){return this.element.offsetHeight}else{return this._height}},set:function(e){this.setHeight(e)},enumerable:true,configurable:true});e.prototype.setHeight=function(e){this._height=e;this.setNumberStyle(this.element,"height",e)};Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(e){this._left=e;this.setNumberStyle(this.element,"left",e)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"top",{get:function(){return this._top},set:function(e){this._top=e;this.setNumberStyle(this.element,"top",e)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(e){this._right=e;this.setNumberStyle(this.element,"right",e)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"bottom",{get:function(){return this._bottom},set:function(e){this._bottom=e;this.setNumberStyle(this.element,"bottom",e)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"percentWidth",{get:function(){return this._percentWidth},set:function(e){this._percentWidth=e;this.setNumberStyle(this.element,"width",e,"%")},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"percentHeight",{get:function(){return this._percentHeight},set:function(e){this._percentHeight=e;this.setNumberStyle(this.element,"height",e,"%")},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e;if(this._visible){this.element.style.visibility="visible";this.element.style.display="inline"}else{this.element.style.visibility="hidden";this.element.style.display="none"}},enumerable:true,configurable:true});e.prototype.getParentWidth=function(){if(this.element.parentElement==null){return window.innerWidth}else{var e=this.element.parentElement.clientWidth;if(e<200)e=window.innerWidth-this.element.parentElement.clientLeft;return e}};e.prototype.getParentHeight=function(){if(this.element.parentElement==null){return window.innerHeight}else{var e=this.element.parentElement.clientHeight;if(e<200)e=window.innerHeight-this.element.parentElement.clientTop;return e}};e.prototype.draw=function(){};Object.defineProperty(e.prototype,"hue",{get:function(){return this._hue},set:function(e){this._hue=e;this.draw()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isDrak",{get:function(){return this._isDrak},set:function(e){this._isDrak=e;this.draw()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e;if(this._enabled){this.element.style.pointerEvents="auto"}else{this.element.style.pointerEvents="none";this.element.blur()}this.draw()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this._tabIndex},set:function(e){this._tabIndex=e;this.element.tabIndex=this.tabIndex},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"toolTip",{get:function(){return this._toolTip},set:function(e){this._toolTip=e;this.element.title=this._toolTip},enumerable:true,configurable:true});return e}(i.EventDispatcher);t.DisplayObject=n});