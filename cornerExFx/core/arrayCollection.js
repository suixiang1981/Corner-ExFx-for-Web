var __extends=this&&this.__extends||function(){var n=function(t,e){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)if(e.hasOwnProperty(i))t[i]=e[i]};return n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();define(["require","exports","./eventDispatcher","./fXEvent"],function(t,e,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t._items=[];return t}Object.defineProperty(t.prototype,"count",{get:function(){return this._items.length},enumerable:true,configurable:true});t.prototype.addItem=function(t){this._items.push(t);var e=new o.FXCollectionEvent;e.target=this;e.items=this._items;e.kind=o.CollectionEventKind.Add;e.location=this._items.length-1;e.oldLocation=-1;e.type=o.FXCollectionEvent.Change;this.dispatchEvent(e)};t.prototype.toArray=function(){return this._items};t.prototype.addItemAt=function(t,e){if(!this.contains(t)){if(e>=0&&e<=this._items.length){this._items.push(null);for(var i=this._items.length-1;i>e;i--){this._items[i]=this._items[i-1]}this._items[e]=t;var n=new o.FXCollectionEvent;n.items=this._items;n.kind=o.CollectionEventKind.Add;n.oldLocation=-1;n.location=e;n.type=o.FXCollectionEvent.Change;n.target=this;this.dispatchEvent(n)}else{this.addItem(t)}}};t.prototype.removeItem=function(t){var e=this._items.indexOf(t);if(e!=-1){this.removeItemAt(e)}};t.prototype.removeItemAt=function(t){if(t>=0&&t<this._items.length){var e=new o.FXCollectionEvent;e.items=this._items;e.kind=o.CollectionEventKind.Remove;e.oldLocation=t;e.location=-1;e.type=o.FXCollectionEvent.Change;e.target=this;this.dispatchEvent(e);var i=this._items[t];if(t>=0&&t<this._items.length){for(var n=t+1;n<this._items.length;n++){this._items[n-1]=this._items[n]}this._items.pop()}}};t.prototype.getItemAt=function(t){if(t>=0&&t<this._items.length){return this._items[t]}return null};t.prototype.removeAll=function(){var t=new o.FXCollectionEvent;t.items=this._items;t.kind=o.CollectionEventKind.RemoveAll;t.oldLocation=-1;t.location=-1;t.type=o.FXCollectionEvent.Change;t.target=this;this.dispatchEvent(t);this._items=[]};t.prototype.contains=function(t){for(var e=0;e<this._items.length;e++){if(t==this._items[e]){return true}}return false};t.prototype.getItemIndex=function(t){return this._items.indexOf(t)};return t}(i.EventDispatcher);e.ArrayCollection=n});