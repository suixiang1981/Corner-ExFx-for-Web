var __extends=this&&this.__extends||function(){var o=function(e,t){o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return o(e,t)};return function(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();define(["require","exports","../../core/displayObject","../../core/fXEvent"],function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(e){__extends(t,e);function t(){var t=e.call(this)||this;t._isMove=false;t.element.style.position="absolute";t.element.addEventListener("pointerdown",function(e){e.cancelBubble=true;e.stopPropagation()});t.element.addEventListener("mousedown",function(e){e.cancelBubble=true;e.stopPropagation();t.start(e,e.clientX,e.clientY)});document.addEventListener("mousemove",function(e){e.cancelBubble=true;e.stopPropagation();t.move(e,e.clientX,e.clientY)});document.addEventListener("mouseup",function(e){e.cancelBubble=true;e.stopPropagation();t.end()});t.element.addEventListener("touchstart",function(e){e.cancelBubble=true;e.stopPropagation();t.start(e,e.touches[0].clientX,e.touches[0].clientY)});document.addEventListener("touchmove",function(e){e.cancelBubble=true;e.stopPropagation();t.move(e,e.touches[0].clientX,e.touches[0].clientY)});document.addEventListener("touchend",function(e){e.cancelBubble=true;e.stopPropagation();t.end()});return t}t.prototype.end=function(){if(this._isMove){this._isMove=false;this.element.onselectstart=function(){return true};var e=new i.FXEvent;e.target=this;e.type=u.MoveEnd;this.dispatchEvent(e)}};t.prototype.move=function(e,t,n){if(this._isMove){var o=new u;o.target=this;o.x=t-this._dx;o.y=n-this._dy;o.type=u.Move;this.dispatchEvent(o)}};t.prototype.start=function(e,t,n){var o=new i.FXEvent;o.target=this;o.type=u.MoveStart;this.dispatchEvent(o);this._isMove=true;var r=this.element;this._dx=t;this._dy=n;this.element.onselectstart=function(){return false}};return t}(n.DisplayObject);t.Handle=o;var u=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}Object.defineProperty(t,"MoveStart",{get:function(){return"MoveStart"},enumerable:true,configurable:true});Object.defineProperty(t,"Move",{get:function(){return"Move"},enumerable:true,configurable:true});Object.defineProperty(t,"MoveEnd",{get:function(){return"MoveEnd"},enumerable:true,configurable:true});return t}(i.FXEvent);t.FXMoveEvent=u});