var __extends=this&&this.__extends||function(){var i=function(e,t){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return i(e,t)};return function(e,t){i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();define(["require","exports","../../core/displayObject","../../containers/roamer/roamer","../../core/util"],function(e,t,r,i,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(e){__extends(t,e);function t(){return e.call(this,new n)||this}Object.defineProperty(t.prototype,"xmlDataProvider",{set:function(e){this._xmlDataProviderElement=e;this.setItemsXmlDataProvider(this._xmlDataProviderElement)},enumerable:true,configurable:true});t.prototype.setItemsXmlDataProvider=function(e){this.rootPanel.xmlDataProvider=e};return t}(i.Roamer);t.WorkGroup=o;var n=function(n){__extends(s,n);function s(e){if(e===void 0){e=500}var t=n.call(this)||this;t.size=500;t.item=new a;t.nodes=[];t.size=e;l.Util.appendDisplayObject(t.element,t.item);return t}s.prototype.setZoom=function(e){n.prototype.setZoom.call(this,e);var t=e*this.size>280;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.visible=t}if(t){if(this.children.length>0){var o=e*this.size/2;this.item.border.style.borderRadius=o+"px";this.item.border.style.width=2*o+"px";this.item.border.style.height=2*o+"px";this.item.border.style.left=-o+"px";this.item.border.style.top=-o+"px";this.item.border.style.visibility="visible"}}else{this.item.border.style.visibility="hidden"}};Object.defineProperty(s.prototype,"xmlDataProvider",{set:function(e){this.setItemsXmlDataProvider(e)},enumerable:true,configurable:true});s.prototype.setItemsXmlDataProvider=function(e){this.item.label.textContent=l.Util.getElementStringAttribute(e,"label");this.item.icon.src=l.Util.getElementStringAttribute(e,"icon");this.item.background.style.backgroundColor=l.Util.getElementStringAttribute(e,"backgroundColor");this.item.label.style.color=l.Util.getElementStringAttribute(e,"color");for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes.item(t);if(r.nodeType==1){var i=new s(this.size/2.5);this.nodes.push(i);this.addChild(i);i.xmlDataProvider=r}}for(var t=0;t<this.nodes.length;t++){var i=this.nodes[t];var o=Math.PI*2/this.nodes.length*t;i.left=Math.sin(o)*this.size/2;i.top=Math.cos(o)*this.size/2;i.visible=false}};return s}(i.RoamerPanel);t.WorkGroupNode=n;var a=function(t){__extends(e,t);function e(){var e=t.call(this)||this;e.isCSSLoaded=false;if(!e.isCSSLoaded){e.isCSSLoaded=true;Loader.loadCSS("cornerExFx/controls/workGroup/workGroupItem.css")}e.element.innerHTML=Loader.loadTXT("cornerExFx/controls/workGroup/workGroupItem.html");e.border=l.Util.getElementByClass("workGroupItemBorder",e.element);e.label=l.Util.getElementByClass("workGroupItemLabel",e.element);e.icon=l.Util.getElementByClass("workGroupItemIcon",e.element);e.background=l.Util.getElementByClass("workGroupBackground",e.element);return e}return e}(r.DisplayObject);t.WorkGroupItem=a});