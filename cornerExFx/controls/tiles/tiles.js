var __extends=this&&this.__extends||function(){var l=function(e,t){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i]};return l(e,t)};return function(e,t){l(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();define(["require","exports","../../core/displayObject","../listBox/listBase","../../core/arrayCollection","../../core/fXEvent","../../core/util"],function(e,t,i,l,n,r,b){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(e){__extends(t,e);function t(){var l=e.call(this)||this;l._items=new n.ArrayCollection;l.tile=new Array;l.colorField="color";l.widthField="width";l.heightField="height";l.backgroundColorField="backgroundColor";l.imageField="image";l.xField="x";l.yField="y";l._items.addEventListener(r.FXCollectionEvent.Change,function(e){for(var t=0;t<l.tile.length;t++){var i=l.tile[t];if(e.items.indexOf(i)==-1){b.Util.removeDislayObject(l.element,i)}}for(var t=0;t<e.items.length;t++){var i=e.items[t];if(l.tile.indexOf(i)==-1){l.tile.push(i)}b.Util.appendDisplayObject(l.element,i)}});return l}Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"xmlDataProvider",{set:function(e){this._xmlDataProviderElement=e;this.setItemsXmlDataProvider(this._xmlDataProviderElement,this.items)},enumerable:true,configurable:true});t.prototype.createListItem=function(e){var t=e.icon;var i=e.label;var l=e.color;var n=e.width*a.size-5;var r=e.height*a.size-5;var o=e.x*a.size+2.5;var s=e.y*a.size+2.5;if(this.iconFunction!=null){t=this.iconFunction(e)}if(this.labelFunction!=null){i=this.labelFunction(e)}return new a(i,t,n,r,o,s,l,e.backgroundColor,e.image,e.data)};t.prototype.xmlDataProviderToListItemData=function(e){var t=new s(b.Util.getElementStringAttribute(e,this.labelField,""),b.Util.getElementStringAttribute(e,this.iconField,""),[]);t.color=b.Util.getElementStringAttribute(e,this.colorField,"");t.backgroundColor=b.Util.getElementStringAttribute(e,this.backgroundColorField,"");t.image=b.Util.getElementStringAttribute(e,this.imageField,"");t.color=b.Util.getElementStringAttribute(e,this.colorField,"");t.width=b.Util.getElementNumberAttribute(e,this.widthField,1);t.height=b.Util.getElementNumberAttribute(e,this.heightField,1);t.x=b.Util.getElementNumberAttribute(e,this.xField,1);t.y=b.Util.getElementNumberAttribute(e,this.yField,1);for(var i=0;i<this.dataFields.length;i++){t.data.push(b.Util.getElementStringAttribute(e,this.dataFields[i],""))}if(this.iconFunction!=null){t.icon=this.iconFunction(t)}if(this.labelFunction!=null){t.label=this.labelFunction(t)}return t};return t}(l.ListBase);t.Tiles=o;var s=function(t){__extends(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.color="";e.backgroundColor="";e.image="";e.width=1;e.height=1;e.x=0;e.y=0;return e}return e}(l.ListItemData);t.TileData=s;var a=function(d){__extends(h,d);function h(e,t,i,l,n,r,o,s,a,u){if(t===void 0){t=null}if(i===void 0){i=1}if(l===void 0){l=1}if(n===void 0){n=0}if(r===void 0){r=0}if(o===void 0){o=null}if(s===void 0){s=null}if(a===void 0){a=null}if(u===void 0){u=[]}var c=d.call(this)||this;c._data=[];c._icon="";c._label="";c._color="";c._backgroundColor="";c._image="";if(!h.isCSSLoaded){h.isCSSLoaded=true;Loader.loadCSS("cornerExFx/controls/tiles/skins/"+b.Util.skin+"/tile.css")}c.element.innerHTML=Loader.loadTXT("cornerExFx/controls/tiles/skins/tile.html",true);c.tileIcon=b.Util.getElementByClass("tileIcon",c.element);c.tileImage=b.Util.getElementByClass("tileImage",c.element);c.tileLabel=b.Util.getElementByClass("tileLabel",c.element);c.tileNumber=b.Util.getElementByClass("tileNumber",c.element);c.label=e;c.icon=t;c.data=u;c.color=o;c.width=i;c.height=l;c.backgroundColor=s;c.image=a;c.left=n;c.top=r;c.element.className="tile";return c}Object.defineProperty(h.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:true,configurable:true});Object.defineProperty(h.prototype,"icon",{get:function(){return this._icon},set:function(e){this._icon=e;if(this._icon==null||this._icon==""){this.tileIcon.src="";this.tileIcon.style.visibility="hidden"}else{this.tileIcon.src=this._icon;this.tileIcon.style.visibility="visible"}},enumerable:true,configurable:true});Object.defineProperty(h.prototype,"label",{get:function(){return this._label},set:function(e){this._label=e;this.tileLabel.textContent=e},enumerable:true,configurable:true});Object.defineProperty(h.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e;this.tileLabel.style.color=e},enumerable:true,configurable:true});Object.defineProperty(h.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e;this.element.style.backgroundColor=e},enumerable:true,configurable:true});Object.defineProperty(h.prototype,"image",{get:function(){return this._image},set:function(e){this._image=e;if(this._image==null||this._image==""){this.tileImage.src="";this.tileImage.style.visibility="hidden"}else{this.tileImage.src=this._image;this.tileImage.style.visibility="visible"}},enumerable:true,configurable:true});h.size=100;h.isCSSLoaded=false;return h}(i.DisplayObject);t.Tile=a});