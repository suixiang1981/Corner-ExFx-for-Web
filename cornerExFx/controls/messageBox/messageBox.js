define(["require","exports","../../containers/dialogWindow/dialogWindow","../../core/util","../button/button","../../core/fXEvent"],function(e,o,m,u,s,r){"use strict";Object.defineProperty(o,"__esModule",{value:true});var t=function(){function g(){}g.show=function(e,o,s,t,n,a,i){var l=this;if(s===void 0){s=x.OK}if(t===void 0){t=d.Information}if(n===void 0){n=null}if(a===void 0){a=400}if(i===void 0){i=200}g.buttons=s;g.callback=n;if(g.timeHandler!=-1){clearTimeout(g.timeHandler);g.timeHandler=-1}if(g.messageBox==null){g.messageBox=new m.DialogWindow;Loader.loadCSS("cornerExFx/controls/messageBox/skins/"+u.Util.skin+"/messageBox.css");var B=Loader.loadTXT("cornerExFx/controls/messageBox/skins/messageBox.html",true);g.messageBox.panel.innerHTML=B;u.Util.appendDisplayObject(document.body,g.messageBox);g.messageBoxOKYesButton.label="确定";g.messageBoxNoButton.label="否";g.messageBoxCancelButton.label="取消";g.messageBoxLabel=u.Util.getElementById("messageBoxLabel",g.messageBox.panel);g.messageBoxWarningIcon=u.Util.getElementById("messageBoxWarningIcon",g.messageBox.panel);g.messageBoxInformationIcon=u.Util.getElementById("messageBoxInformationIcon",g.messageBox.panel);g.messageBoxErrorIcon=u.Util.getElementById("messageBoxErrorIcon",g.messageBox.panel);g.messageBoxBottom=u.Util.getElementByClass("messageBoxBottom",g.messageBox.panel);g.messageBoxOKYesButton.width=90;g.messageBoxOKYesButton.height=30;u.Util.appendDisplayObject(g.messageBoxBottom,g.messageBoxOKYesButton);g.messageBoxNoButton.width=90;g.messageBoxNoButton.height=30;u.Util.appendDisplayObject(g.messageBoxBottom,g.messageBoxNoButton);g.messageBoxCancelButton.width=90;g.messageBoxCancelButton.height=30;u.Util.appendDisplayObject(g.messageBoxBottom,g.messageBoxCancelButton);g.messageBoxOKYesButton.addEventListener(r.FXMouseEvent.Click,function(e){g.hide();if(g.callback!=null){if(g.buttons==x.OK||g.buttons==x.OKCancel){g.callback(c.OK)}else{g.callback(c.Yes)}}});g.messageBoxNoButton.addEventListener(r.FXMouseEvent.Click,function(e){g.hide();if(g.callback!=null){g.callback(c.No)}});g.messageBoxCancelButton.addEventListener(r.FXMouseEvent.Click,function(e){g.hide();if(g.callback!=null){g.callback(c.Cancel)}})}g.messageBox.width=a;g.messageBox.height=i;g.messageBox.label=o;g.messageBoxLabel.innerHTML=e;if(g.buttons==x.YesNoCancel||g.buttons==x.YesNo){g.messageBoxNoButton.visible=true}else{g.messageBoxNoButton.visible=false}if(g.buttons==x.OKCancel||g.buttons==x.YesNoCancel){g.messageBoxCancelButton.visible=true}else{g.messageBoxCancelButton.visible=false}if(g.buttons==x.YesNoCancel||g.buttons==x.YesNo){g.messageBoxOKYesButton.label="是"}else{g.messageBoxOKYesButton.label="确定"}if(g.buttons==x.OK){g.timeHandler=setTimeout(function(){g.timeHandler=-1;g.hide();if(g.callback!=null){g.callback(c.OK)}},3e3)}if(g.buttons==x.OK){g.messageBoxOKYesButton.right=5}else if(g.buttons==x.OKCancel){g.messageBoxOKYesButton.right=100;g.messageBoxCancelButton.right=5}else if(g.buttons==x.YesNo){g.messageBoxOKYesButton.right=100;g.messageBoxNoButton.right=5}else if(g.buttons==x.YesNoCancel){g.messageBoxOKYesButton.right=195;g.messageBoxNoButton.right=100;g.messageBoxCancelButton.right=5}g.messageBoxInformationIcon.style.display=t==d.Information?"inline":"none";g.messageBoxInformationIcon.style.display=t==d.Information?"visible":"hidden";g.messageBoxWarningIcon.style.display=t==d.Warning?"inline":"none";g.messageBoxWarningIcon.style.display=t==d.Warning?"visible":"hidden";g.messageBoxErrorIcon.style.display=t==d.Error?"inline":"none";g.messageBoxErrorIcon.style.display=t==d.Error?"visible":"hidden";g.messageBox.showDialog();setTimeout(function(){l.messageBox.defaultButton=g.messageBoxOKYesButton;g.messageBox.element.focus()},1)};g.hide=function(){g.messageBox.hide();if(g.timeHandler!=-1){clearTimeout(g.timeHandler);g.timeHandler=-1}};g.messageBoxOKYesButton=new s.Button;g.messageBoxNoButton=new s.Button;g.messageBoxCancelButton=new s.Button;g.timeHandler=-1;return g}();o.MessageBox=t;var c;(function(e){e[e["OK"]=0]="OK";e[e["Yes"]=1]="Yes";e[e["No"]=2]="No";e[e["Cancel"]=3]="Cancel"})(c=o.MessageBoxButton||(o.MessageBoxButton={}));var x;(function(e){e[e["OK"]=0]="OK";e[e["OKCancel"]=1]="OKCancel";e[e["YesNo"]=2]="YesNo";e[e["YesNoCancel"]=3]="YesNoCancel"})(x=o.MessageBoxButtons||(o.MessageBoxButtons={}));var d;(function(e){e[e["Information"]=0]="Information";e[e["Warning"]=1]="Warning";e[e["Error"]=2]="Error"})(d=o.MessageBoxIcon||(o.MessageBoxIcon={}))});