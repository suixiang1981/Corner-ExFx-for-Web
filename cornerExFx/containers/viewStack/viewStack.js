var __extends=this&&this.__extends||function(){var i=function(e,t){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return i(e,t)};return function(e,t){i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();define(["require","exports","../../controls/listBox/listBase","../../core/util","../../core/arrayCollection","../../core/displayObjectContainer","../../core/fXEvent"],function(e,t,n,i,r,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(t){__extends(e,t);function e(){var e=t.call(this)||this;e._items=new r.ArrayCollection;e.itemsPanel=e.element;e.dataFields=["id"];e._allItems=e._items;e.setItems(e._allItems);return e}e.prototype.setSelectedItem=function(){for(var e=0;e<this.items.count;e++){var t=this.items.getItemAt(e);if(t!=null){if(t==this.selectedItem){t.element.style.visibility="visible";i.Util.htmlElementToTop(t.element)}else{t.element.style.visibility="hidden"}}}};Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this._selectedItem},set:function(e){if(this._items.contains(e)){if(this._selectedItem!=e){var t=new l.FXListEvent;t.newItem=e;t.oldItem=this._selectedItem;t.target=this;t.type=l.FXListEvent.Change;this._selectedItem=e;this.dispatchEvent(t);this.setSelectedItem();if(t.newItem!=null){t.newItem.visible=true}if(t.oldItem!=null){t.oldItem.visible=false}}}else{this._selectedItem=null}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"xmlDataProvider",{set:function(e){this._xmlDataProviderElement=e;this.setItemsXmlDataProvider(this._xmlDataProviderElement,this.items)},enumerable:true,configurable:true});e.prototype.createListItem=function(e){var t=e.icon;var n=e.label;if(this.iconFunction!=null){t=this.iconFunction(e)}if(this.labelFunction!=null){n=this.labelFunction(e)}return new u(n,t,e.data)};return e}(n.ListBase);t.ViewStack=s;var u=function(o){__extends(e,o);function e(e,t,n,i){if(t===void 0){t=null}if(n===void 0){n=[]}if(i===void 0){i=true}var r=o.call(this)||this;r._data=[];r._icon="";r._label="";r._showCloseButton=true;r._panel=r.element;r.element.style.userSelect="none";r.element.style.msUserSelect="none";r.element.style.webkitUserSelect="none";r.element.style.position="absolute";r.element.style.width="100%";r.element.style.height="100%";r.label=e;r.icon=t;r.data=n;r.percentWidth=100;r.percentHeight=100;r._showCloseButton=i;return r}Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},set:function(e){this._icon=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"showCloseButton",{get:function(){return this._showCloseButton},set:function(e){this._showCloseButton=e},enumerable:true,configurable:true});return e}(o.DisplayObjectContainer);t.ViewStackItem=u});