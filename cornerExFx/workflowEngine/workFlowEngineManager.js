var __extends=this&&this.__extends||function(){var i=function(t,o){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)if(o.hasOwnProperty(e))t[e]=o[e]};return i(t,o)};return function(t,o){i(t,o);function e(){this.constructor=t}t.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}}();define(["require","exports","../core/displayObject","../core/util","../mvvm/listDataEditor/listDataEditor","../core/fXEvent","./workFlowStepListEditor"],function(t,o,e,r,n,l,a){"use strict";Object.defineProperty(o,"__esModule",{value:true});var i=function(i){__extends(t,i);function t(){var o=i.call(this)||this;o.listDataEditor=new n.ListDataEditor("workFlowEngine.workFlowList");o.listDataEditor.percentWidth=100;o.listDataEditor.percentHeight=100;o.listDataEditor.control.iconFunction=function(t){return"cornerExFx/workflowEngine/skins/workflowD.png"};var e=document.createElement("div");e.innerHTML=Loader.loadTXT("cornerExFx/workflowEngine/skins/workFlowButtonStepEditor.html",true);e.className="toolButtonDisabled";e.title="流程定义";var t=r.Util.getElementById("listDataEditorEdit",o.listDataEditor.toolBarDiv);r.Util.insertElement(e,t);r.Util.appendDisplayObject(o.element,o.listDataEditor);o.listDataEditor.load();o.listDataEditor.control.addEventListener(l.FXListEvent.Change,function(t){if(t.newItem==null){e.className="toolButtonDisabled"}else{e.className="toolButton"}});e.onclick=function(){if(o.listDataEditor.control.selectedItem!=null){var t=o.listDataEditor.control.getIdByItem(o.listDataEditor.control.selectedItem);if(o.workFlowStepListEditor==null){o.workFlowStepListEditor=new a.WorkFlowStepListEditor;o.workFlowStepListEditor.width=900;o.workFlowStepListEditor.height=500;o.workFlowStepListEditor.visible=false;r.Util.appendDisplayObject(document.body,o.workFlowStepListEditor)}o.workFlowStepListEditor.label="流程定义 - "+o.listDataEditor.control.selectedItem.label;o.workFlowStepListEditor.showDialog();o.workFlowStepListEditor.load(t)}};return o}return t}(e.DisplayObject);o.WorkFlowEngineManager=i});